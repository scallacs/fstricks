
<div class="item item-video-tag bg-primary" 
     ng-class="{ 'active': playerData.currentTag.id === videoTag.id}" 
     style="text-transform: capitalize;">
    
    <div class="item-heading">
        <div class="row clickable">
            <div class="col-xs-3">
                <div class="item-sport">
                    <span ng-if="videoTag.sport_name">
                        <img ng-src="{{videoTag.sport_name | imageUrl}}" 
                             title="{{videoTag.sport_name}}"
                             alt="{{videoTag.sport_name}}"/>
                    </span>
                </div>
            </div>
            <div class="col-xs-7"  ng-click="playerData.view(videoTag)">
                <p class="item-title">
                    {{videoTag.tag_name}}
                </p>
                <div class="item-user-xs">
                    <span class="thumbnail-round-xs">
                        <img ng-if="videoTag.rider_picture_round_xs" ng-src="videoTag.rider_picture_round_xs"/>
                    </span>
                    <span class="item-user-name">
                        {{videoTag.rider_name}}
                    </span>
                </div>
            </div>
            <div class="col-xs-2">
                <div class="dropdown" ng-if="!playerData.editionMode">
                    <button class="btn btn-primary" title="Share" data-toggle="dropdown">
                        <span class="glyphicon glyphicon-share"></span> 
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right">
                        <li class="text-bold">
                            <a href=""> Sharing coming soon ...</a>
                        </li>
                        <!--
                        <li>
                            <div facebook 
                                 class="btn-facebook-share" 
                                 data-title='Share this trick'
                                 data-picture-url='http://i.imgur.com/WACv9Cl.jpg' 
                                 ng-url="{{WEBROOT_FULL}}/view/{{videoTag.id}}"
                                 data-shares='shares'>{{ shares}}
                            </div>
                        </li>
                        <li>
                            <a twitter 
                               data-count='horizontal' 
                               data-url='{{url}}'  
                               data-size="medium" 
                               data-text='{{text}}' >Twitter</a>
                        </li>
                        -->
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-3">
                <p class="item-category">
                    {{videoTag.category_name}}
                </p>
            </div>
                
            <div class="col-xs-7 text-danger padding-sm" ng-if="playerData.editionMode" >
                <span class="glyphicon glyphicon-edit"></span> In edition
            </div>
            <div class="col-xs-7" ng-if="!playerData.editionMode" >
                
                <p class="text-muted padding-sm"  ng-show="videoTag.time_to_play > 0">
                    <span>
                        playing in {{videoTag.time_to_play}} seconds.
                    </span>
                </p>

                <div  ng-controller="VideoTagPointsController" 
                      ng-show="videoTag.time_to_play == null || videoTag.time_to_play == 0">
                    <button type="button" class="btn btn-primary"  ng-click="down(videoTag)" 
                            ng-disabled="playerData.currentTag.id !== videoTag.id || videoTag.user_rate === 'loading'"
                            ng-class="videoTag.user_rate === 'down' ? 'active' : ''">
                        <span class="glyphicon glyphicon-arrow-down"></span>
                    </button>
                    <span class="item-points">
                        {{videoTag.count_points}}
                    </span>
                    <button type="button" 
                            class="btn btn-primary" 
                            ng-click="up(videoTag)" 
                            ng-disabled="playerData.currentTag.id !== videoTag.id || videoTag.user_rate === 'loading'"
                            ng-class="videoTag.user_rate === 'up' ? 'active' : ''">
                        <span class="glyphicon glyphicon-arrow-up"></span>
                    </button>
                </div>
            </div>
            <div class="col-xs-2">
                <div class="dropdown">
                    <button class="btn btn-primary" data-toggle="dropdown">
                        <b class="caret"></b>
                    </button>
                    <ul class="dropdown-menu nav-stacked nav-pills dropdown-menu-right">
                        <li ng-if="!playerData.editionMode">
                            <a ng-href="#/video/view/{{videoTag.video_id}}">
                                <span class="glyphicon glyphicon-play-circle"></span>  
                                View full video
                            </a>
                        </li>           
                        <li ng-if="!playerData.editionMode">
                            <a ng-href="#/view/{{videoTag.sport_name}}/{{videoTag.category_name}}/{{videoTag.tag_slug}}">
                                <span class="glyphicon glyphicon-eye-open"></span>  
                                View this trick
                            </a>
                        </li>           
                        <!--<li class="divider"></li>-->
                        <li ng-if="!playerData.editionMode">
                            <a href="" ng-click="openReportErrorModal(videoTag)">
                                <span class="glyphicon glyphicon-warning-sign"></span> 
                                Report error
                            </a>
                        </li>
                        <li ng-if="playerData.editionMode">
                            <a href="" ng-click="editVideoTag(videoTag)">
                                <span class="glyphicon glyphicon-edit"></span> 
                                Edit
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
