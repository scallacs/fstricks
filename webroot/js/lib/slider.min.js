angular.module("ui.slider",[]).value("uiSliderConfig",{}).directive("uiSlider",["uiSliderConfig","$timeout",function(b,a){b=b||{};return{require:"ngModel",compile:function(){var d=function(o,j,m,g){function h(r,q){return(q)?parseFloat(r):parseInt(r,10)}var f=angular.copy(o.$eval(m.uiSlider));var p=angular.extend(f||{},b);var k={min:null,max:null};var i=["min","max","step","lowerBound","upperBound"];var e=(!angular.isUndefined(m.useDecimals))?true:false;var n=function(){if(angular.isArray(g.$viewValue)&&p.range!==true){console.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true.");p.range=true}angular.forEach(i,function(q){if(angular.isDefined(m[q])){p[q]=h(m[q],e)}});j.slider(p);n=angular.noop};angular.forEach(i,function(q){m.$observe(q,function(r){if(!!r){n();p[q]=h(r,e);j.slider("option",q,h(r,e));g.$render()}})});m.$observe("disabled",function(q){n();j.slider("option","disabled",!!q)});o.$watch(m.uiSlider,function(q){n();if(q!==undefined){j.slider("option",q)}},true);a(n,0,true);j.bind("slide",function(s,t){var r;if(t.values){var q=t.values.slice();if(p.lowerBound&&q[0]<p.lowerBound){q[0]=Math.max(q[0],p.lowerBound)}if(p.upperBound&&q[1]>p.upperBound){q[1]=Math.min(q[1],p.upperBound)}if(q[0]!==t.values[0]||q[1]!==t.values[1]){r=true;t.values=q}}else{var u=t.value;if(p.lowerBound&&u<p.lowerBound){u=Math.max(u,p.lowerBound)}if(p.upperBound&&u>p.upperBound){u=Math.min(u,p.upperBound)}if(u!==t.value){r=true;t.value=u}}g.$setViewValue(t.values||t.value);o.$apply();if(r){setTimeout(function(){j.slider("value",t.values||t.value)},0);return false}});g.$render=function(){n();var q=p.range===true?"values":"value";if(p.range!==true&&isNaN(g.$viewValue)&&!(g.$viewValue instanceof Array)){g.$viewValue=0}else{if(p.range&&!angular.isDefined(g.$viewValue)){g.$viewValue=[0,0]}}if(p.range===true){if(angular.isDefined(p.min)&&p.min>g.$viewValue[0]){g.$viewValue[0]=p.min}if(angular.isDefined(p.max)&&p.max<g.$viewValue[1]){g.$viewValue[1]=p.max}if(g.$viewValue[0]>g.$viewValue[1]){if(k.min>=g.$viewValue[1]){g.$viewValue[0]=k.min}if(k.max<=g.$viewValue[0]){g.$viewValue[1]=k.max}}k.min=g.$viewValue[0];k.max=g.$viewValue[1]}j.slider(q,g.$viewValue)};o.$watch(m.ngModel,function(){if(p.range===true){g.$render()}},true);function l(){if(j.hasClass("ui-slider")){j.slider("destroy")}}o.$on("$destroy",l);j.one("$destroy",l)};var c=function(m,g,l,f){var n=angular.extend({},m.$eval(l.uiSlider));var j=["max","step","tick"];angular.forEach(j,function(i){if(angular.isDefined(l[i])){n[i]=l[i]}});if(angular.isDefined(n.tick)&&angular.isDefined(n.step)){var k=parseInt(parseInt(n.max)/parseInt(n.step));for(var h=k;h>=0;h--){var e=((h/k)*100)+"%";$("<div/>").addClass("ui-slider-tick").appendTo(g).css({left:e})}}};return{pre:d,post:c}}}}]);